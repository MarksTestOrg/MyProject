'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getCommitHashOfTag = undefined;

var _gitTags = require('git-tags');

var _gitTags2 = _interopRequireDefault(_gitTags);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const getCommitHashOfTag = exports.getCommitHashOfTag = async () => {
  const version = await new Promise(resolve => _gitTags2.default.get((err, tags) => resolve(tags[0])));
  const revision = require('child_process').execSync(`git rev-list -n 1 ${version}`).toString().trim();
  return revision;
};